<div class="container">

  <div *ngIf="message" class="alert alert-success">
    <strong>{{ message }}</strong>
  </div>

  <h3> {{ title | customPipe }} </h3>
  <form class="form-inline">
    <div class="form-group">
      <label>Name</label>
      <input type="text" (keyup)="onNameKeyUp($event)">
    </div>
    <div class="form-group">
      <label>Color</label>
      <input type="text" (keyup)="onColorKeyUp($event)">
    </div>
    <div class="form-group">
      <label>Price</label>
      <input type="text" (keyup)="onPriceKeyUp($event)">
    </div>
  </form>
  <hr>

  <h3> Products </h3>
  <table class="table">
    <tr>
      <th (click)="onChangeOrderColumn('id')">Id</th>
      <th (click)="onChangeOrderColumn('name')">Name</th>
      <th (click)="onChangeOrderColumn('color')">Color</th>
      <th (click)="onChangeOrderColumn('price')">Price</th>
      <th>Λειτουργίες
        <select (change)="onChange($event.target.value)">
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
        </select>

        <select (change)="changeOrder($event.target.value)">
          <option>asc</option>
          <option>desc</option>
        </select>
      </th>

    <tr *ngFor="let product of products">
      <td>{{product.id}}</td>
      <td>{{product.name }}</td>
      <td>{{product.color}}</td>
      <td>{{product.price | currency}}</td>
      <td>
        <button type="button" class="btn btn-primary" (click)=onSelectedProduct(product)>Edit</button>
        <button type="button" class="btn btn-primary" (click)="deleteProduct(product)">Delete</button>
      </td>
    </tr>
  </table>

  <ul class="pagination">
    <li (click)="getCurrentPage(1)"><a>1</a></li>
    <li (click)="getCurrentPage(2)"><a>2</a></li>
    <li (click)="getCurrentPage(3)"><a>3</a></li>
    <li (click)="getCurrentPage(4)"><a>4</a></li>
  </ul>


  <div *ngIf="selectedProduct" class="container">
    <form class="form-inline">
      <div class="form-group">
        <label>ID</label>
        <input #idEditInput placeholder="" value="{{selectedProduct.id}}" readonly>
      </div>
      <div class="form-group">
        <label>Name</label>
        <input #nameEditInput placeholder="" value="{{selectedProduct.name}}">
      </div>
      <div class="form-group">
        <label>Color</label>
        <input #colorEditInput placeholder="Color" value="{{selectedProduct.color}}">
      </div>
      <div class="form-group">
        <label>Price</label>
        <input #priceEditInput placeholder="Price" value="{{selectedProduct.price}}">
      </div>
      <div class="form-group">
        <button type="button" class="btn btn-primary"
                (click)="editProduct(idEditInput.value, nameEditInput.value, colorEditInput.value, priceEditInput.value);  nameInput.value=''; colorInput.value=''; priceInput.value=''; ">
          Edit Product
        </button>
      </div>
    </form>
  </div>


  <hr>
  <h3> Add </h3>

  <form class="form-inline">
    <div class="form-group">
      <label>Name</label>
      <input #nameInput placeholder="Name" required>
    </div>
    <div class="form-group">
      <label>Color</label>
      <input #colorInput placeholder="Color" required>
    </div>
    <div class="form-group">
      <label>Price</label>
      <input #priceInput placeholder="Price" required>
    </div>
    <div class="form-group">
      <button type="button" class="btn btn-primary"
              (click)="postProduct(nameInput.value, colorInput.value, priceInput.value);  nameInput.value=''; colorInput.value=''; priceInput.value=''; ">
        Add Product
      </button>
    </div>
  </form>

</div>
